(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{167:function(e,t,n){},168:function(e,t,n){},223:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n(52),r=n.n(o),s=(n(167),n(10)),c=(n(168),n(286)),i=n(265),l=n(288),u=n(290),d=n(291),j=n(289),p=n(143),m=n.n(p),h=n(16),O=n.n(h),b=n(18),f=n.n(b),g=n(15),x=n(1),v=function(e){var t=Object(g.f)(),n=function(e){e.preventDefault(),t.push("/")};return Object(x.jsx)(i.a,{sx:{flexGrow:1},children:Object(x.jsx)(c.a,{position:"static",children:Object(x.jsxs)(l.a,{children:[Object(x.jsx)(j.a,{onClick:function(t){return function(t){t.preventDefault(),e.setOpen(!e.open),O.a.get("http://localhost:8000/api/user/name/"+f.a.get("userName"),{withCredentials:!0}).then((function(t){e.setUserRooms(t.data.user.rooms)})).catch((function(e){return console.log(e)}))}(t)},size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(x.jsx)(m.a,{})}),Object(x.jsx)(u.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:e.pageHeader}),e.isLoggedIn?Object(x.jsxs)(x.Fragment,{children:[e.dashboard?"":Object(x.jsx)(d.a,{color:"inherit",onClick:function(e){return n(e)},children:"Home"}),Object(x.jsx)(d.a,{color:"inherit",onClick:function(e){return function(e){e.preventDefault(),O.a.get("http://localhost:8000/api/user/logout",{withCredentials:!0}).then((function(){return t.push("/")})).catch((function(e){return console.log(e.response)}))}(e)},children:"Logout"})]}):Object(x.jsxs)(x.Fragment,{children:[e.dashboard?"":Object(x.jsx)(d.a,{color:"inherit",onClick:function(e){return n(e)},children:"Home"}),Object(x.jsx)(d.a,{color:"inherit",onClick:function(t){return function(t){t.preventDefault(),e.setRegisterOpen(!e.registerOpen)}(t)},children:"Register"}),Object(x.jsx)(d.a,{color:"inherit",onClick:function(t){return function(t){t.preventDefault(),e.setLoginOpen(!e.loginOpen)}(t)},style:{marginLeft:"50px"},children:"Login"})]})]})})})},w=n(282),C=n(270),y=n(292),N=n(278),R=n(293),k=n(144),S=n.n(k),D=function(e){var t=Object(g.f)(),n=function(e,n){e.preventDefault(),t.push("/chatroom/"+n)};return Object(x.jsxs)(w.a,{anchor:"left",elevation:20,open:e.open,onClose:function(){e.setOpen(!1)},children:[Object(x.jsxs)("h1",{style:{margin:"30px 80px"},children:["Your Rooms",e.isLoggedIn?Object(x.jsx)(j.a,{size:"large",variant:"contained",color:"primary",onClick:function(t){return function(t){t.preventDefault(),e.setNewRoomOpen(!0)}(t)},children:Object(x.jsx)(S.a,{})}):null]}),Object(x.jsx)(C.a,{}),Object(x.jsxs)(y.a,{children:[Object(x.jsx)("h4",{style:{margin:"10px"},children:"Direct Messages"}),e.userRooms.map((function(e,t){if(e.isDm)return Object(x.jsx)(N.a,{children:Object(x.jsx)(R.a,{underline:"hover",component:"button",variant:"h6",onClick:function(t){return n(t,e._id)},children:e.host===f.a.get("userName")?e.users[1]:e.host})},t)}))]}),Object(x.jsx)(C.a,{}),Object(x.jsxs)(y.a,{children:[Object(x.jsx)("h4",{style:{margin:"10px"},children:"Chat Rooms"}),e.userRooms.map((function(e,t){if(!e.isDm)return Object(x.jsx)(N.a,{children:Object(x.jsx)(R.a,{underline:"hover",component:"button",variant:"h6",onClick:function(t){return n(t,e._id)},children:e.roomName})},t)}))]})]})},L=n(22),I=n(275),P=n(294),T=n(298),F=n(295),E=n(297),_=n(296),U=function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(s.a)(t,2),o=n[0],r=n[1],c=Object(a.useState)(""),i=Object(s.a)(c,2),l=i[0],u=i[1],j=function(){r({email:"",password:""}),e.setLoginOpen(!1)};return Object(x.jsxs)(P.a,{open:e.loginOpen,onClose:j,children:[Object(x.jsxs)(F.a,{children:[Object(x.jsx)(_.a,{children:"Login"}),Object(x.jsxs)(E.a,{children:["Login with your email and password to begin.",Object(x.jsx)("br",{}),Object(x.jsx)("small",{style:{color:"red"},children:l})]}),Object(x.jsx)(I.a,{autoFocus:!0,margin:"dense",id:"email",label:"Email Address",type:"email",variant:"standard",value:o.email,onChange:function(e){return r(Object(L.a)(Object(L.a)({},o),{},{email:e.target.value}))}}),Object(x.jsx)(I.a,{margin:"dense",id:"password",label:"Password",type:"password",variant:"standard",value:o.password,onChange:function(e){return r(Object(L.a)(Object(L.a)({},o),{},{password:e.target.value}))},style:{marginLeft:"10px"}})]}),Object(x.jsxs)(T.a,{children:[Object(x.jsx)(d.a,{onClick:j,children:"Cancel"}),Object(x.jsx)(d.a,{onClick:function(t){return function(t){t.preventDefault(),O.a.post("http://localhost:8000/api/user/login",o,{withCredentials:!0}).then((function(t){e.setCount(e.count+1),e.setLoginOpen(!1),console.log(t)})).catch((function(e){u(e.response.data)}))}(t)},variant:"contained",children:"Submit"})]})]})},M=n(279),A=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(!1),c=Object(s.a)(r,2),i=c[0],l=c[1],u=Object(a.useState)(""),j=Object(s.a)(u,2),p=j[0],m=j[1],h=Object(g.f)(),b=function(){m(""),l(!1)};return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{style:{marginTop:"150px"},children:"Sign Up Then Enter a Room Code to Get Started"}),Object(x.jsx)(I.a,{style:{minWidth:"400px"},type:"text",value:n,onChange:function(e){return o(e.target.value)}}),Object(x.jsx)(d.a,{onClick:function(e){return function(e){e.preventDefault(),O.a.get("http://localhost:8000/room/name/"+n).then((function(e){var t={room:e=e.data.room,userName:f.a.get("userName")};O.a.put("http://localhost:8000/api/user/addroom",t,{withCredentials:!0}).then((function(){return h.push("/chatroom/"+e._id)})).catch((function(e){void 0===e.response.data.error?m("You have to be logged in to do that!"):m(e.response.data.error),o(""),l(!0)}))})).catch((function(e){return console.log(e)}))}(e)},variant:"contained",style:{marginLeft:"15px",height:"53px",marginTop:"1px"},children:"Enter"}),Object(x.jsx)(M.a,{message:"You are already in this room!",open:i,onClose:b}),Object(x.jsx)(M.a,{message:p,open:i,onClose:b})]})},H=function(e){var t=Object(a.useState)({userName:"",email:"",password:"",confirmPassword:""}),n=Object(s.a)(t,2),o=n[0],r=n[1],c=Object(a.useState)({email:"",password:"",userName:"",confirmPassword:""}),i=Object(s.a)(c,2),l=i[0],u=i[1],j=function(){e.setRegisterOpen(!1),r({userName:"",email:"",password:"",confirmPassword:""})};return Object(x.jsxs)(P.a,{open:e.registerOpen,onClose:j,children:[Object(x.jsxs)(F.a,{children:[Object(x.jsx)(_.a,{children:"Get Registered"}),Object(x.jsx)(E.a,{children:"Register below to get started and create your own rooms!"}),Object(x.jsxs)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"space-evenly"},children:[Object(x.jsx)(I.a,{error:""!==l.userName,helperText:""===l.userName?"":l.userName,autoFocus:!0,margin:"dense",id:"userName",label:"User Name",type:"text",variant:"standard",value:o.userName,onChange:function(e){return r(Object(L.a)(Object(L.a)({},o),{},{userName:e.target.value}))}}),Object(x.jsx)(I.a,{error:""!==l.email,helperText:""===l.email?"":l.email,margin:"dense",id:"email",label:"Email",type:"email",variant:"standard",value:o.email,onChange:function(e){return r(Object(L.a)(Object(L.a)({},o),{},{email:e.target.value}))}})]}),Object(x.jsxs)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"space-evenly"},children:[Object(x.jsx)(I.a,{error:""!==l.password,helperText:""===l.password?"":l.password,margin:"dense",id:"password",label:"Password",type:"password",variant:"standard",value:o.password,onChange:function(e){return r(Object(L.a)(Object(L.a)({},o),{},{password:e.target.value}))},style:{maxWidth:"200px"}}),Object(x.jsx)(I.a,{error:""!==l.confirmPassword,helperText:""===l.confirmPassword?"":l.confirmPassword,margin:"dense",id:"confirmPassword",label:"Confirm Password",type:"password",variant:"standard",value:o.confirmPassword,onChange:function(e){return r(Object(L.a)(Object(L.a)({},o),{},{confirmPassword:e.target.value}))}})]})]}),Object(x.jsxs)(T.a,{children:[Object(x.jsx)(d.a,{onClick:function(t){return function(t){t.preventDefault(),e.setRegisterOpen(!1)}(t)},children:"Cancel"}),Object(x.jsx)(d.a,{variant:"contained",onClick:function(t){return function(t){t.preventDefault(),O.a.post("http://localhost:8000/api/user/register",o,{withCredentials:!0}).then((function(t){e.setCount(e.count+1),j()})).catch((function(e){for(var t={},n=0,a=Object.entries(e.response.data.error.errors);n<a.length;n++){var o=Object(s.a)(a[n],2),r=o[0],c=o[1];t[r]=c.message}u(Object(L.a)(Object(L.a)({},{email:"",password:"",userName:"",confirmPassword:""}),t))}))}(t)},children:"Register"})]})]})},W=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),o=n[0],r=n[1],c=Object(g.f)(),i=function(){e.setNewRoomOpen(!1)};return Object(x.jsxs)(P.a,{open:e.newRoomOpen,onClose:i,children:[Object(x.jsxs)(F.a,{children:[Object(x.jsx)(_.a,{children:"Create a Room"}),Object(x.jsxs)(E.a,{children:["Create a new chatroom to talk with your pals!",Object(x.jsx)("br",{}),Object(x.jsx)("small",{style:{color:"red"}})]}),Object(x.jsx)(I.a,{fullWidth:!0,autoFocus:!0,margin:"dense",id:"roomName",label:"Room Name",type:"text",variant:"standard",value:o,onChange:function(e){return r(e.target.value)}})]}),Object(x.jsxs)(T.a,{children:[Object(x.jsx)(d.a,{onClick:i,children:"Cancel"}),Object(x.jsx)(d.a,{variant:"contained",onClick:function(t){return function(t){t.preventDefault(),O.a.post("http://localhost:8000/room/create",{roomName:o,users:[f.a.get("userName")],isDm:!1,host:f.a.get("userName")},{withCredentials:!0}).then((function(t){O.a.put("http://localhost:8000/api/user/addroom/",{room:t.data.room,userName:f.a.get("userName")},{withCredentials:!0}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e.response)})),c.push("/chatroom/"+t.data.room._id),i(),r(""),e.setOpen(!1)})).catch((function(e){return console.log(e.response)}))}(t)},children:"Submit"})]})]})},Y=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),o=n[0],r=n[1],c=Object(a.useState)(!1),i=Object(s.a)(c,2),l=i[0],u=i[1],d=Object(a.useState)(!1),j=Object(s.a)(d,2),p=j[0],m=j[1],h=Object(a.useState)(!1),b=Object(s.a)(h,2),f=b[0],g=b[1],w=Object(a.useState)(0),C=Object(s.a)(w,2),y=C[0],N=C[1],R=Object(a.useState)([]),k=Object(s.a)(R,2),S=k[0],L=k[1];return Object(a.useEffect)((function(){O.a.get("http://localhost:8000/api/user/isloggedin",{withCredentials:!0}).then((function(){g(!0)})).catch(g(!1))}),[y]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{pageHeader:"",setOpen:r,open:o,setLoginOpen:u,loginOpen:l,registerOpen:p,setRegisterOpen:m,isLoggedIn:f,count:y,setCount:N,userRooms:S,setUserRooms:L,dashboard:!0}),Object(x.jsx)(D,{open:o,setOpen:r,isLoggedIn:f,newRoomOpen:e.newRoomOpen,setNewRoomOpen:e.setNewRoomOpen,userRooms:S,setUserRooms:L}),Object(x.jsx)(W,{newRoomOpen:e.newRoomOpen,setNewRoomOpen:e.setNewRoomOpen}),Object(x.jsx)(U,{loginOpen:l,setLoginOpen:u,count:y,setCount:N,setUserName:e.setUserName}),Object(x.jsx)(H,{registerOpen:p,setRegisterOpen:m,count:y,setCount:N}),Object(x.jsx)(A,{})]})},B=n(146),G=n(3),V=n(17),z=n(299),J=n(285),q=n(274),K=n(273),Q=n(287),X=n(5),Z=n(300),$=n(50),ee=n.n($),te=n(284),ne=n(147),ae=n(281),oe=function(e){var t=Object(a.useState)(null),n=Object(s.a)(t,2),o=n[0],r=n[1],c=Object(a.useState)(!1),i=Object(s.a)(c,2),l=i[0],u=i[1],d=Object(a.useState)((function(){return ee()(":8000")})),j=Object(s.a)(d,1)[0],p=Boolean(o),m=Object(g.f)(),h=function(){r(null)},b=function(e){O.a.get("http://localhost:8000/room/"+f.a.get("userName")+"/"+e).then((function(t){0===t.data.room.length?(O.a.post("http://localhost:8000/room/create",{roomName:Math.random().toString(36).slice(2),users:[f.a.get("userName"),e],isDm:!0,host:f.a.get("userName")}).then((function(t){console.log(),O.a.put("http://localhost:8000/api/user/addroom/",{room:t.data.room,userName:f.a.get("userName")},{withCredentials:!0}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e.response)})),O.a.put("http://localhost:8000/api/user/addroom/",{room:t.data.room,userName:e},{withCredentials:!0}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e.response)})),m.push("/chatroom/"+t.data.room._id)})).catch((function(e){return console.log(e.response)})),j.emit("sendDm",e)):(u(!0),h(),m.push("/chatroom/"+t.data.room._id))})).catch((function(e){return console.log(e)}))};return Object(x.jsxs)("div",{children:[Object(x.jsx)(te.a,{label:e.userName,component:"a","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":p?"true":void 0,clickable:!0,onClick:function(e){r(e.currentTarget)}}),Object(x.jsxs)(ne.a,{id:"basic-menu",anchorEl:o,open:p,onClose:h,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(x.jsx)(ae.a,{onClick:function(){return b(e.userName)},children:"Direct message"}),Object(x.jsx)(ae.a,{onClick:function(){return t=e.userName,b(t),void O.a.get("http://localhost:8000/api/user/name/"+t,{withCredentials:!0}).then((function(e){var t=e.data.user;j.emit("start_call",{userInfo:t,caller:f.a.get("userName")})})).catch((function(e){return console.log(e)}));var t},children:"Call"}),Object(x.jsx)(ae.a,{onClick:h,children:"Profile"})]}),Object(x.jsx)(M.a,{message:"You already have a DM with this person!",open:l,onClose:function(){u(!1)}})]})},re=n(37),se=n.n(re),ce=n(60),ie=function(e){var t={video:{width:{exact:480},height:{exact:320}},audio:!0},n={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"}]},o=Object(a.useState)((function(){return ee()(":8000")})),r=Object(s.a)(o,1)[0];return Object(a.useEffect)((function(){var a,o,s=e.roomInfo.host,c=e.roomInfo._id;function i(){return i=Object(ce.a)(se.a.mark((function e(t){var n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia(t);case 3:n=e.sent,document.getElementById("localVid").srcObject=n,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error getting local media.",e.t0);case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),i.apply(this,arguments)}function l(e){o.getTracks().forEach((function(t){e.addTrack(t,o)}))}function u(e){return d.apply(this,arguments)}function d(){return d=Object(ce.a)(se.a.mark((function e(t){var n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.createOffer();case 3:n=e.sent,t.setLocalDescription(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:r.emit("offer",{type:"offer",sdp:n,roomId:c});case 12:case"end":return e.stop()}}),e,null,[[0,7]])}))),d.apply(this,arguments)}function j(e){return p.apply(this,arguments)}function p(){return p=Object(ce.a)(se.a.mark((function e(t){var n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.createAnswer();case 3:n=e.sent,t.setLocalDescription(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:r.emit("answer",{type:"answer",sdp:n,roomId:c});case 12:case"end":return e.stop()}}),e,null,[[0,7]])}))),p.apply(this,arguments)}function m(e){document.getElementById("remoteVid").srcObject=e.streams[0],e.stream}function h(e){e.candidate&&r.emit("ice_candidate",{roomId:c,label:e.candidate.sdpMLineIndex,candidate:e.candidate.candidate})}!function(e){i.apply(this,arguments)}(t),r.on("call",Object(ce.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s!==f.a.get("userName")){e.next=8;break}return console.log("client call"),l(a=new RTCPeerConnection(n)),a.ontrack=m,a.onicecandidate=h,e.next=8,u(a);case 8:case 9:case"end":return e.stop()}}),e)})))),r.on("offer",function(){var e=Object(ce.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s===f.a.get("userName")){e.next=9;break}return l(a=new RTCPeerConnection(n)),a.ontrack=m,a.onicecandidate=h,a.setRemoteDescription(new RTCSessionDescription(t)),e.next=8,j(a);case 8:console.log("client offer");case 9:case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.on("answer",(function(e){a.setRemoteDescription(new RTCSessionDescription(e))})),r.on("ice_candidate",(function(e){new RTCIceCandidate({sdpMLineIndex:e.label,candidate:e.candidate})})),r.emit("call",c)}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("video",{id:"remoteVid",autoPlay:!0}),Object(x.jsx)("video",{id:"localVid",autoPlay:!0})]})},le=function(e){var t=Object(g.f)(),n=Object(a.useState)((function(){return ee()(":8000")})),o=Object(s.a)(n,1)[0],r=function(t){t.preventDefault(),e.setCallOpen(!1)};return Object(x.jsxs)(P.a,{open:e.open,onClose:function(e){return r(e)},children:[Object(x.jsxs)(_.a,{children:["You're recieving a call from ",e.caller,"!"]}),Object(x.jsx)(F.a,{children:Object(x.jsx)(E.a,{children:"Answer it or decline it, the choice is yours."})}),Object(x.jsxs)(T.a,{style:{margin:"0 auto"},children:[Object(x.jsx)(d.a,{onClick:function(e){return r(e)},style:{marginRight:"15px"},children:"Decline"}),Object(x.jsx)(d.a,{variant:"contained",onClick:function(n){return function(n){n.preventDefault(),O.a.get("http://localhost:8000/room/"+e.caller+"/"+f.a.get("userName"),{withCredentials:!0}).then((function(e){t.push("/chatroom/"+e.data.room[0]._id),o.emit("call",e.data.room[0]._id)})).catch((function(e){return console.log(e)})),e.setCallOpen(!1)}(n)},children:"Accept"})]})]})},ue=function(e){var t=Object(X.a)(Q.a)((function(e){var t=e.theme;return Object(L.a)(Object(L.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"left",color:t.palette.text.secondary})})),n=Object(a.useState)((function(){return ee()("http://3.129.195.240:8000/",{transports:WebSocket})})),o=Object(s.a)(n,1)[0],r=Object(a.useState)(""),c=Object(s.a)(r,2),i=c[0],l=c[1],u=Object(a.useState)([]),j=Object(s.a)(u,2),p=j[0],m=j[1],h=Object(a.useState)(!1),b=Object(s.a)(h,2),w=b[0],C=b[1],y=Object(a.useState)(!1),N=Object(s.a)(y,2),R=N[0],k=N[1],S=Object(a.useState)(!1),P=Object(s.a)(S,2),T=P[0],F=P[1],E=Object(a.useState)(!0),_=Object(s.a)(E,2),U=_[0],M=(_[1],Object(a.useState)(0)),A=Object(s.a)(M,2),H=A[0],Y=A[1],B=Object(a.useState)([]),$=Object(s.a)(B,2),te=$[0],ne=$[1],ae=Object(a.useState)({}),re=Object(s.a)(ae,2),se=re[0],ce=re[1],ue=Object(a.useState)(""),de=Object(s.a)(ue,2),je=de[0],pe=de[1],me=Object(a.useState)(!1),he=Object(s.a)(me,2),Oe=he[0],be=he[1],fe=Object(g.g)().id;return Object(a.useEffect)((function(){return O.a.get("http://localhost:8000/room/"+fe,{withCredentials:!0}).then((function(e){ce(e.data.room),console.log(e.data.room)})).catch((function(e){return console.log(e)})),O.a.get("http://localhost:8000/message/getmessages/"+fe,{withCredentials:!0}).then((function(e){m(e.data.messages.reverse())})).catch((function(e){return console.log(e.response)})),o.disconnect(!0),o.connect(),o.on("connect",(function(){console.log(o.id),O.a.put("http://localhost:8000/api/user/updatesocket",{userName:f.a.get("userName"),socket:o.id},{withCredentials:!0}).then((function(e){return e})).catch((function(e){return console.log(e)}))})),o.on("recieveMessage",(function(e){console.log(e),O.a.get("http://localhost:8000/message/getmessages/"+e,{withCredentials:!0}).then((function(e){m(Object(V.a)(e.data.messages.reverse()))})).catch((function(e){return console.log(e.response)}))})),o.on("recieving_call",(function(e){pe(e),be(!0)})),o.on("recieveDm",(function(e){console.log(e)})),o.emit("join",fe),function(){return o.disconnect(!0)}}),[fe,o]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,Object(G.a)({pageHeader:"",setOpen:C,open:w,setLoginOpen:k,loginOpen:R,registerOpen:T,setRegisterOpen:F,isLoggedIn:U,count:H,setCount:Y,userRooms:te,setUserRooms:ne},"pageHeader",se.isDm?se.host===f.a.get("userName")?se.users[1]:se.host:se.roomName)),Object(x.jsx)(W,{newRoomOpen:e.newRoomOpen,setNewRoomOpen:e.setNewRoomOpen,setOpen:C}),Object(x.jsx)(D,{open:w,setOpen:C,userRooms:te,setUserRooms:ne,isLoggedIn:U,newRoomOpen:e.newRoomOpen,setNewRoomOpen:e.setNewRoomOpen}),Object(x.jsx)(z.a,{maxWidth:"xlg",children:Object(x.jsxs)(J.a,{container:!0,spacing:3,children:[se.isDm?Object(x.jsx)(J.a,{item:!0,xlg:2,lg:4,md:6,sm:8,xs:8,children:Object(x.jsx)(ie,{style:{marginRight:"30px"},roomInfo:se})}):"",Object(x.jsxs)(J.a,{item:!0,xlg:se.isDm?12:10,lg:se.isDm?8:12,md:se.isDm?6:12,sm:se.isDm?4:12,xs:se.isDm?4:12,children:[Object(x.jsx)(K.a,{style:{minHeight:"600px",minWidth:"300px",backgroundColor:"#dce7e8",maxHeight:"600px",marginTop:"40px",overflowY:"auto",borderRadius:"10px",padding:"30px",display:"flex",flexDirection:"column-reverse"},children:Object(x.jsx)(q.a,{direction:"column-reverse",justifyContent:"space-evenly",alignItems:"stretch",spacing:2,children:p.slice(0,40).map((function(e,n){return Object(x.jsxs)(t,{children:[Object(x.jsxs)("h4",{style:{marginLeft:"5px",display:"flex",flexFlow:"row nowrap",alignItems:"center"},children:[Object(x.jsx)(oe,{userName:e.userName,socket:o}),Object(x.jsxs)("small",{children:[" - ",e.createdAt?new Date(e.createdAt).toLocaleString():(new Date).toLocaleString()]})]}),Object(x.jsx)("p",{style:{marginLeft:"15px",color:"black"},children:e.message})]},n)}))})}),Object(x.jsx)(I.a,{focused:!0,fullWidth:!0,id:"outlined-multiline-flexible",multiline:!0,maxRows:4,value:i,onChange:function(e){return l(e.target.value)},InputProps:{endAdornment:Object(x.jsx)(Z.a,{position:"end",children:Object(x.jsx)(d.a,{variant:"contained",onClick:function(e){return function(e){var t={userName:f.a.get("userName"),message:i,roomId:fe};e.preventDefault(),o.emit("sendMessage",t),m([t].concat(Object(V.a)(p))),l(""),O.a.post("http://localhost:8000/message/create",t,{withCredentials:!0}).then((function(e){return e})).catch((function(e){return console.log(e.response)}))}(e)},children:"Submit"})})}})]})]})}),Object(x.jsx)(le,{open:Oe,caller:je,setCallOpen:be})]})};var de=function(){var e=Object(a.useState)("Guest-"+Math.random().toString(36).slice(2)),t=Object(s.a)(e,2),n=(t[0],t[1]),o=Object(a.useState)(!1),r=Object(s.a)(o,2),c=r[0],i=r[1];return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(B.a,{children:Object(x.jsxs)(g.c,{children:[Object(x.jsx)(g.a,{path:"/chatroom/:id",children:Object(x.jsx)(ue,{newRoomOpen:c,setNewRoomOpen:i})}),Object(x.jsx)(g.a,{path:"/",children:Object(x.jsx)(Y,{setUserName:n,newRoomOpen:c,setNewRoomOpen:i})})]})})})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,301)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),o(e),r(e),s(e)}))};r.a.render(Object(x.jsx)(de,{}),document.getElementById("root")),je()}},[[223,1,2]]]);
//# sourceMappingURL=main.78f4bd2b.chunk.js.map